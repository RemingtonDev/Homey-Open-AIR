{
  "name": {
    "en": "Open AIR Mini",
    "nl": "Open AIR Mini",
    "fr": "Open AIR Mini"
  },
  "class": "fan",
  "capabilities": [
    "dim",
    "onoff",
    "measure_fan_speed",
    "measure_humidity",
    "measure_rpm",
    "measure_temperature"
  ],
  "capabilitiesOptions": {
    "dim": {
      "title": {
        "en": "Fan Speed",
        "nl": "Ventilatorsnelheid",
        "fr": "Vitesse du ventilateur"
      },
      "min": 0,
      "max": 1,
      "step": 0.01
    },
    "measure_temperature": {
      "decimals": 1
    },
    "measure_humidity": {
      "decimals": 1
    },
    "onoff": {
      "title": {
        "en": "Fan",
        "nl": "Ventilator",
        "fr": "Ventilateur"
      },
      "quickAction": false
    }
  },
  "platforms": ["local"],
  "connectivity": ["lan"],
  "discovery": "open-air",
  "pair": [
    {
      "id": "list_devices",
      "template": "list_devices",
      "options": {
        "singular": false
      },
      "navigation": {
        "next": "credentials"
      }
    },
    {
      "id": "credentials"
    },
    {
      "id": "add_devices",
      "template": "add_devices"
    }
  ],
  "repair": [
    {
      "id": "credentials"
    }
  ],
  "settings": [
    {
      "type": "group",
      "label": { "en": "Display", "nl": "Weergave", "fr": "Affichage" },
      "children": [
        {
          "id": "rpm_decimals",
          "type": "dropdown",
          "label": { "en": "RPM Decimals", "nl": "Toerental decimalen", "fr": "Décimales RPM" },
          "value": "0",
          "values": [
            { "id": "0", "label": { "en": "0", "nl": "0", "fr": "0" } },
            { "id": "1", "label": { "en": "1", "nl": "1", "fr": "1" } },
            { "id": "2", "label": { "en": "2", "nl": "2", "fr": "2" } }
          ]
        },
        {
          "id": "temperature_decimals",
          "type": "dropdown",
          "label": { "en": "Temperature Decimals", "nl": "Temperatuur decimalen", "fr": "Décimales température" },
          "value": "1",
          "values": [
            { "id": "0", "label": { "en": "0", "nl": "0", "fr": "0" } },
            { "id": "1", "label": { "en": "1", "nl": "1", "fr": "1" } },
            { "id": "2", "label": { "en": "2", "nl": "2", "fr": "2" } }
          ]
        },
        {
          "id": "humidity_decimals",
          "type": "dropdown",
          "label": { "en": "Humidity Decimals", "nl": "Vochtigheid decimalen", "fr": "Décimales humidité" },
          "value": "1",
          "values": [
            { "id": "0", "label": { "en": "0", "nl": "0", "fr": "0" } },
            { "id": "1", "label": { "en": "1", "nl": "1", "fr": "1" } },
            { "id": "2", "label": { "en": "2", "nl": "2", "fr": "2" } }
          ]
        },
        {
          "id": "co2_decimals",
          "type": "dropdown",
          "label": { "en": "CO2 Decimals", "nl": "CO2 decimalen", "fr": "Décimales CO2" },
          "value": "0",
          "values": [
            { "id": "0", "label": { "en": "0", "nl": "0", "fr": "0" } },
            { "id": "1", "label": { "en": "1", "nl": "1", "fr": "1" } },
            { "id": "2", "label": { "en": "2", "nl": "2", "fr": "2" } }
          ]
        },
        {
          "id": "voc_decimals",
          "type": "dropdown",
          "label": { "en": "VOC Index Decimals", "nl": "VOC Index decimalen", "fr": "Décimales indice COV" },
          "value": "0",
          "values": [
            { "id": "0", "label": { "en": "0", "nl": "0", "fr": "0" } },
            { "id": "1", "label": { "en": "1", "nl": "1", "fr": "1" } },
            { "id": "2", "label": { "en": "2", "nl": "2", "fr": "2" } }
          ]
        },
        {
          "id": "nox_decimals",
          "type": "dropdown",
          "label": { "en": "NOx Index Decimals", "nl": "NOx Index decimalen", "fr": "Décimales indice NOx" },
          "value": "0",
          "values": [
            { "id": "0", "label": { "en": "0", "nl": "0", "fr": "0" } },
            { "id": "1", "label": { "en": "1", "nl": "1", "fr": "1" } },
            { "id": "2", "label": { "en": "2", "nl": "2", "fr": "2" } }
          ]
        }
      ]
    },
    {
      "type": "group",
      "label": { "en": "Auto Fan Curve", "nl": "Automatische ventilatorcurve", "fr": "Courbe auto ventilateur" },
      "children": [
        {
          "id": "auto_curve_enabled",
          "type": "checkbox",
          "label": { "en": "Enabled", "nl": "Ingeschakeld", "fr": "Activé" },
          "hint": { "en": "Checks humidity every 30 seconds and sets fan speed using the thresholds below. Any manual change (slider, on/off, or flow) pauses the curve for 30 minutes. Use the 'Pause/Resume auto fan curve' flow actions for manual control.", "nl": "Controleert elke 30 seconden de vochtigheid en stelt de ventilatorsnelheid in op basis van onderstaande drempels. Elke handmatige wijziging (schuifregelaar, aan/uit of flow) pauzeert de curve voor 30 minuten. Gebruik de 'Pauzeer/Hervat automatische ventilatorcurve' flow-acties voor handmatige bediening.", "fr": "Vérifie l'humidité toutes les 30 secondes et règle la vitesse selon les seuils ci-dessous. Tout changement manuel (curseur, on/off ou flow) met la courbe en pause pendant 30 minutes. Utilisez les actions de flow 'Pause/Reprise courbe auto' pour un contrôle manuel." },
          "value": true
        },
        {
          "id": "auto_curve_high_humidity",
          "type": "number",
          "label": { "en": "High humidity threshold (%)", "nl": "Hoge vochtigheidsdrempel (%)", "fr": "Seuil d'humidité haute (%)" },
          "hint": { "en": "Fan runs at high speed when humidity reaches this level", "nl": "Ventilator draait op hoge snelheid wanneer de vochtigheid dit niveau bereikt", "fr": "Le ventilateur tourne à vitesse haute lorsque l'humidité atteint ce niveau" },
          "value": 75,
          "min": 0,
          "max": 100,
          "step": 1
        },
        {
          "id": "auto_curve_medium_humidity",
          "type": "number",
          "label": { "en": "Medium humidity threshold (%)", "nl": "Middelhoge vochtigheidsdrempel (%)", "fr": "Seuil d'humidité moyenne (%)" },
          "hint": { "en": "Fan runs at medium speed when humidity is between this and the high threshold", "nl": "Ventilator draait op gemiddelde snelheid wanneer de vochtigheid tussen dit en de hoge drempel ligt", "fr": "Le ventilateur tourne à vitesse moyenne lorsque l'humidité est entre ce seuil et le seuil haut" },
          "value": 55,
          "min": 0,
          "max": 100,
          "step": 1
        },
        {
          "id": "auto_curve_high_speed",
          "type": "number",
          "label": { "en": "Fan speed at high humidity (%)", "nl": "Ventilatorsnelheid bij hoge vochtigheid (%)", "fr": "Vitesse à humidité haute (%)" },
          "hint": { "en": "Fan speed when humidity is at or above the high threshold", "nl": "Ventilatorsnelheid wanneer de vochtigheid op of boven de hoge drempel is", "fr": "Vitesse du ventilateur lorsque l'humidité atteint ou dépasse le seuil haut" },
          "value": 100,
          "min": 0,
          "max": 100,
          "step": 1
        },
        {
          "id": "auto_curve_medium_speed",
          "type": "number",
          "label": { "en": "Fan speed at medium humidity (%)", "nl": "Ventilatorsnelheid bij middelhoge vochtigheid (%)", "fr": "Vitesse à humidité moyenne (%)" },
          "hint": { "en": "Fan speed when humidity is between the medium and high thresholds", "nl": "Ventilatorsnelheid wanneer de vochtigheid tussen de middelhoge en hoge drempel ligt", "fr": "Vitesse du ventilateur lorsque l'humidité est entre les seuils moyen et haut" },
          "value": 60,
          "min": 0,
          "max": 100,
          "step": 1
        },
        {
          "id": "auto_curve_low_speed",
          "type": "number",
          "label": { "en": "Fan speed below medium humidity (%)", "nl": "Ventilatorsnelheid onder middelhoge vochtigheid (%)", "fr": "Vitesse sous humidité moyenne (%)" },
          "hint": { "en": "Fan speed when humidity is below the medium threshold", "nl": "Ventilatorsnelheid wanneer de vochtigheid onder de middelhoge drempel ligt", "fr": "Vitesse du ventilateur lorsque l'humidité sous le seuil moyen" },
          "value": 25,
          "min": 0,
          "max": 100,
          "step": 1
        }
      ]
    },
    {
      "type": "group",
      "label": { "en": "Connection", "nl": "Verbinding", "fr": "Connexion" },
      "children": [
        {
          "id": "host",
          "type": "text",
          "label": { "en": "IP Address", "nl": "IP-adres", "fr": "Adresse IP" },
          "hint": { "en": "The IP address of your Open AIR Mini", "nl": "Het IP-adres van je Open AIR Mini", "fr": "L'adresse IP de votre Open AIR Mini" },
          "value": ""
        },
        {
          "id": "port",
          "type": "number",
          "label": { "en": "Port", "nl": "Poort", "fr": "Port" },
          "hint": { "en": "API port (default: 6053)", "nl": "API poort (standaard: 6053)", "fr": "Port API (par défaut : 6053)" },
          "value": 6053,
          "min": 1,
          "max": 65535
        },
        {
          "id": "encryptionKey",
          "type": "password",
          "label": { "en": "Encryption Key", "nl": "Encryptiesleutel", "fr": "Clé de chiffrement" },
          "hint": { "en": "Found in your ESPHome YAML under api: encryption: key:", "nl": "Te vinden in je ESPHome YAML onder api: encryption: key:", "fr": "Disponible dans votre fichier YAML ESPHome sous api: encryption: key:" },
          "value": ""
        },
        {
          "id": "password",
          "type": "password",
          "label": { "en": "Password (legacy)", "nl": "Wachtwoord (verouderd)", "fr": "Mot de passe (ancien)" },
          "hint": { "en": "For older ESPHome versions using api: password:", "nl": "Voor oudere ESPHome versies met api: password:", "fr": "Pour les anciennes versions ESPHome utilisant api: password:" },
          "value": ""
        }
      ]
    }
  ],
  "images": {
    "small": "/drivers/open-air-mini/assets/images/small.png",
    "large": "/drivers/open-air-mini/assets/images/large.png",
    "xlarge": "/drivers/open-air-mini/assets/images/xlarge.png"
  }
}
